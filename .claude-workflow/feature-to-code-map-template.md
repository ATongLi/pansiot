# 功能到代码映射表

## 映射规则
- 每个功能点对应具体的文件、类、函数
- 记录行号范围以便快速定位
- 包含依赖关系和影响范围

## 映射表

| 功能ID | 功能描述 | 平台 | 代码文件 | 类/组件 | 函数/方法 | 行号 | 依赖 | 状态 |
|--------|---------|------|---------|---------|----------|------|------|------|
| FE-{NUMBER}-{N} | {功能} | {平台} | `{path}` | {class} | {method}() | {lines} | {dep} | ✅ |
| FE-{NUMBER}-{N} | {功能} | {平台} | `{path}` | {class} | {method}() | {lines} | {dep} | ⏳ |
| FE-{NUMBER}-{N} | {功能} | {平台} | `{path}` | {class} | {method}() | {lines} | {dep} | 📋 |

## 依赖关系图

```
FE-{NUMBER} ({功能名称})
├─ FE-{NUMBER}-{N} ({子功能}) → depends on → FE-{NUMBER}-{N}
├─ FE-{NUMBER}-{N} ({子功能}) → depends on → {外部依赖}
└─ FE-{NUMBER}-{N} ({子功能}) → depends on → FE-{NUMBER}-{N}

FE-{NUMBER} ({功能名称})
└─ FE-{NUMBER}-{N} ({子功能}) → depends on → FE-{NUMBER} ({需要认证})
```

## 影响分析查询

### 查询示例
```
"修改 FE-{NUMBER}-{N} 的 {功能描述} 会影响哪些功能？"
→ 答: 影响 FE-{NUMBER}-{N} ({功能}), FE-{NUMBER}-{N} ({功能})
     需要修改的文件:
     - {path} (主要)
     - {path} (调用方)
     - {path} (测试)
```

### 影响分析报告模板

**查询**: 修改 {功能ID} - {功能描述}

**直接影响**:
- {功能ID}: {功能} - {文件}:{行号}
- {功能ID}: {功能} - {文件}:{行号}

**间接影响**:
- {功能ID}: {功能} (通过 {功能ID})
- {功能ID}: {功能} (通过 {功能ID})

**需要修改的文件**:
1. {path} (主要)
2. {path} (调用方)
3. {path} (测试)

**需要更新的文档**:
- [ ] feature-to-code-map.md
- [ ] rt-matrix.md
- [ ] 测试用例

**风险评估**: {低/中/高}

## 反向映射 (代码 → 功能)

| 代码文件 | 函数 | 实现功能 | 功能ID | 状态 |
|---------|------|---------|--------|------|
| {path} | {method}() | {功能描述} | FE-{NUMBER}-{N} | ✅ |
| {path} | {method}() | {功能描述} | FE-{NUMBER}-{N} | ⏳ |

## 平台分布

| 平台 | 功能数 | 已实现 | 进行中 | 待开始 |
|------|--------|--------|--------|--------|
| 网关 | {总数} | {数量} | {数量} | {数量} |
| HMI | {总数} | {数量} | {数量} | {数量} |
| 云平台 | {总数} | {数量} | {数量} | {数量} |
| APP | {总数} | {数量} | {数量} | {数量} |
| 边缘AI | {总数} | {数量} | {数量} | {数量} |
| Scada | {总数} | {数量} | {数量} | {数量} |
| Web编辑器 | {总数} | {数量} | {数量} | {数量} |

## 统计信息

- **总功能点数**: {数量}
- **已实现**: {数量} ({percentage}%)
- **进行中**: {数量} ({percentage}%)
- **待开始**: {数量} ({percentage}%)
- **依赖忽略**: {数量}

## 更新日志

| 日期 | 更新内容 | 更新人 |
|------|---------|--------|
| {YYYY-MM-DD} | {描述} | {姓名} |
