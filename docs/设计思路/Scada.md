

# phase1

## 项目背景
创建一个工控物联网的多平台大项目。包含有设备端（HMI端）、组态软件端（Scada软件）、云平台端、移动APP端。
组态软件端包含有工程的基础配置、工程画面编辑的编辑器功能。云平台端包含设备和用户的基础功能外，也有Web工程画面编辑的编辑器功能。组态软件端的编辑器与平台端的Web工程编辑器需要共用。设备端的包含了两种设备分别是网关（gateway）、HMI，两者的工作逻辑基本一致，采用同一套代码逻辑。

## 功能需求
2. HMI的运行画面是通过Scada工程编辑器进行画面编辑后，保存为工程文件后下载到HMI中。HMI将工程解压后，读取画面配置后重新渲染出来画面。HMI的界面本质上是通过浏览器显示前端页面。
Scada工程编辑器，就相当于是一个低代码的方式，编排设备的页面以及页面中的显示组件。显示的组件技术使用Web技术，考虑性能使用canvas而不是Html5原生方式。具体的canvas框架使用哪个暂时没有确定，再zrender和leaferJS、konva中选，最终选择性能最好的。
相当于是Scada中编辑，HMI中需要重新渲染。
3. 平台的React和HMI中的数据管理使用Mobx库。
4. Scada的后端采用golang,也就是React+electron+golang考虑到需要交好的性能。
5. 且设备端的后端，之前已经在其他项目中实现了一部分代码和方案，现在迁移到当前文件夹下，文件夹名称为pans-runtime。现在也考虑融合到此项目当中。
6. 云平台中也有工程画面编辑器，只是编辑的是Web工程，编辑端和运行端都在云端中，工程画面编辑器的部分会共用。

## Scada功能
1. Scada创建最基础的页面框架，整体样式要以工业物联网软件风格为主，精简风格。 符合claude-workflow的工作流，且使用对应的skill来管理。

Scada平台需要实现基础的主页面框架，具体需求如下:
- 整体样式要以工业物联网软件风格为主，精简风格.
- 主页的原型图参考。@

2. 新建工程 和 打开工程功能
可以点击新建工程，并填写信息，工程名称、工程运行的硬件平台、工程作者、工程保存位置、工程描述、工程分类、工程加密。
工程分类的作用，就是希望能够帮助用户管理好多个工程。最终工程的配置信息，能够保存为工程文件。每个工程都有一个唯一标识号。并且考虑未来工程的相关配置将会同步到云端中存储。也会在云端中打开工程，并且再云端版本的Scada软件中编辑工程。
工程文件需要一定的安全策略，规避其他人员轻易的打开，只能自己的工具才能够打开。
需要Scada的前端和后端均实现此功能。

3. 需要修改功能：项目中的标题栏的页面结构调整
1. 主要结构分为标题栏，内容页部分。见参考图。 
2. 标题栏分为左侧Logo、标题、标签栏、右侧工具栏
3. 内容页，就是根据不同的标签类型显示不同的内容页。
4. 默认初始标签也“首页”。
5. Logo 占用空间和“首页”内容页中的左侧边栏宽度一致。然后再是标题。
6. “首页”标签选中状态样式，保持先有的内容页背景色融合的样式。标签栏中的标签宽度希望再170px。

4. 多语言系统设计

### 界面和组件结构优化
- 页面首先包含： 标签栏 + 主内容页。  
- 标签栏：包含最左侧Logo+标题，最右侧的最小化、最大化、关闭等控制按钮。 以及在标签后面的动态标签。默认有首页标签，且不可关闭，选中时显示的就是“主页”的主内容。打开其他标签页内容时，就会创建出新标签，可关闭。
- 标签栏中的标签被选中时，样式时和主页面页融合的。被未选中时，与标签栏的样式融合，适当当有一定的边框效果，可以看得出来时标签页。悬浮时有悬浮的样式，也可以直接关闭标签页。 
首页内容中的左侧边栏sidebar 应该是被放在了整体的main-content中。所谓首页标签中的主内容的一部分。
- 左侧边栏中的“首页”选中时，右侧应该是“开始”、“最近工程”的内容页。
标题中的标签样式需要调整。未选中时需要有一定的边框，以更容易看到是个标签。标签选中时，需要有一定的样式，以突出显示。标签选中时的样式需要和内容页的背景色融合。 主内容页的背景色需要和标题栏的背景色一致。

#### 工程编辑页调整
工程编辑页就没有sidebar了。 
工具栏： 工程文件、通用、运行调试、工具、视图、帮助
工程文件子工具栏： 新建工程、打开工程、保存工程、另存为、自动保存、工程设置
通用：剪贴板（复制、粘贴、删除、格式刷）、编辑（撤销、重做、选择、多重复制）、对齐（左对齐、右对齐、居中对齐）
运行调试子工具栏：编译、在线编译、离线编译、下载、上传
工具：文本库、媒体库、设备管理、透传
视图：显示（图层、历史记录）、位置（网格、对齐网格）
帮助：版本信息、新功能信息、检查更新、帮助文档、联系我们
自动保存：勾选，设置间隔分钟数。默认为10分钟。


#### 设备端
1. SN码生成规则
设备端SN序列码生成规则。需要考虑生成过程中的使用场景。需要适配不同产品系列，不同产品型号。
2.  


# 待办
