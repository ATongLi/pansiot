# Device Platform - Gateway Mode Configuration
mode: gateway

# Runtime Configuration (from pans-runtime)
runtime:
  storage:
    shards: 64  # High-performance sharded storage
    shard_size: 1024
  adapters:
    - type: mqtt
      enabled: true
      config:
        broker: "tcp://localhost:1883"
        client_id: "pansiot-gateway"
        qos: 1
    - type: http
      enabled: false
  collectors:
    - frequency: 100ms
      enabled: true
    - frequency: 1s
      enabled: true
    - frequency: 5s
      enabled: true

# WebSocket Server
websocket:
  enabled: true
  port: 8080
  path: /ws
  read_buffer_size: 1024
  write_buffer_size: 1024
  ping_period: 54

# HTTP Server
http:
  enabled: true
  port: 8081
  read_timeout: 30
  write_timeout: 30

# Gateway-specific features
gateway:
  max_connections: 100
  data_aggregation: true
  edge_processing: true
  cloud_sync:
    enabled: true
    endpoint: "wss://cloud.example.com/api/gateway/sync"
    api_key: ""

# Logging
logging:
  level: info
  format: json
  output: stdout
